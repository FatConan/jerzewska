{% extends "page.html" %}

{% block head_extra %}
    <script type="text/javascript" data-main="/resources/javascript/portfolio" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
{% endblock %}
{% block page_content %}
    <section class="project-details">
        <div class="cms-alt">{{ content|safe }}</div>

        <section class="gallery-display">
            {% include "snippets/photo-controls.html" %}

            <ul class="shots">
                {% for item in DATA.get("portfolio_images", []) %}
                    {% if "," in item %}
                        {% set path, color = item.split(",") %}
                    {% else %}
                        {% set path, color = item, "" %}
                    {% endif %}
                    <li class="display {% if loop.index == 1 %}selected{% endif %}">
                        <a data-fancybox="gallery" data-loop="{{ loop.index }}" data-half="/resources/img/portfolio/half/{{ path }}" data-color="{{ color }}" href="/resources/img/portfolio/full/{{ path }}">
                            <img src="/resources/img/portfolio/full/{{ path }}" />
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </section>
    </section>
{% endblock %}